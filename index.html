<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Godi å®ˆè­·è€…ç³»çµ± - GodiVanLife</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --primary-color: #e67e22; --bg-color: #fdf6e3; }
        body { font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; background: var(--bg-color); color: #333; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { width: 90%; max-width: 400px; padding: 20px; text-align: center; }
        .pet-avatar { width: 180px; height: 180px; border-radius: 50%; border: 8px solid white; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-top: 20px; object-fit: cover; }
        h1 { color: var(--primary-color); margin-bottom: 5px; }
        .status-badge { background: #ff4757; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; margin-bottom: 20px; display: inline-block; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        .info-card { background: white; border-radius: 15px; padding: 15px; text-align: left; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .info-item { margin-bottom: 8px; font-size: 15px; line-height: 1.5; }
        .btn-location { background: var(--primary-color); color: white; border: none; padding: 15px 25px; border-radius: 30px; font-size: 18px; font-weight: bold; cursor: pointer; width: 100%; transition: 0.3s; box-shadow: 0 4px 10px rgba(230, 126, 34, 0.3); }
        .btn-call { background: #2ed573; color: white; text-decoration: none; display: block; padding: 12px; border-radius: 30px; margin-top: 10px; font-weight: bold; }
        .social-link { margin-top: 25px; display: block; color: #888; text-decoration: none; font-size: 14px; }
    </style>
</head>
<body>

<div class="container">
    <img src="https://path-to-your-image.jpg" class="pet-avatar" alt="Godi">
    
    <h1>æˆ‘æ˜¯ Godi</h1>
    <div class="status-badge">ğŸš¨ æˆ‘è¿·è·¯äº†ï¼Œè«‹å¹«å¹«æˆ‘</div>

    <div class="info-card">
        <div class="info-item">ğŸ¾ <strong>ç‰¹è‰²ï¼š</strong>æ°¸é æ´»åŠ›åè¶³</div>
        <div class="info-item">ğŸ¾ <strong>æœ€æ„›ï¼š</strong>è¶…å–œæ­¡å•¾å•¾è²ï¼</div>
        <div class="info-item">âš ï¸ <strong>æ³¨æ„ï¼š</strong>æˆ‘æœ‰é»è¨å­å°æœ‹å‹ï¼Œè«‹å°å¿ƒé è¿‘</div>
    </div>

    <button class="btn-location" onclick="handleReport()">ğŸ“ é»æ“Šå›å‚³ä½ç½®çµ¦ä¸»äºº</button>
    
    <a href="tel:0932865917" class="btn-call">ğŸ“ ç›´æ¥æ’¥æ‰“çµ¦ä¸»äºº</a>

    <a href="https://www.instagram.com/godi_van_life" target="_blank" class="social-link">
        äº†è§£æ›´å¤š Godi çš„ç”Ÿæ´»ï¼š@godi_van_life
    </a>
</div>

<script>
    // åˆå§‹åŒ– LIFFï¼Œå·²å¡«å…¥ä½ çš„ ID 2009176986-3VxkPQWI
    async function initLIFF() {
        try {
            await liff.init({ liffId: "2009176986-3VxkPQWI" });
            console.log("LIFF åˆå§‹åŒ–æˆåŠŸ");
        } catch (err) {
            console.error("LIFF åˆå§‹åŒ–å¤±æ•—", err);
        }
    }

    async function handleReport() {
        // å¦‚æœæ²’ç™»å…¥ï¼Œå¼•å°ç™»å…¥ï¼ˆè¨±å¯é é¢ï¼‰
        if (!liff.isLoggedIn()) {
            liff.login();
            return;
        }

        // æª¢æŸ¥å®šä½åŠŸèƒ½
        if (!liff.isApiAvailable('getLocation')) {
            alert("æ‚¨çš„ LINE ä¸æ”¯æ´å®šä½ï¼Œè«‹ç›´æ¥æ’¥æ‰“é›»è©±è¯ç¹«ä¸»äººã€‚");
            return;
        }

        // åŸ·è¡Œç²å–å®šä½
        liff.getLocation().then(res => {
            const lat = res.latitude;
            const lng = res.longitude;
            
            // æ¸¬è©¦æˆåŠŸæç¤º
            alert(`æˆåŠŸå–å¾—ä½ç½®ï¼\nç·¯åº¦: ${lat}\nç¶“åº¦: ${lng}\nä¸»äººæœƒç«‹å³æ”¶åˆ°é€šçŸ¥ï¼`);
            
            // é€™è£¡å¯ä»¥å‚³é€ API åˆ°å¾Œç«¯
            console.log("åº§æ¨™å·²å–å¾—ï¼Œæº–å‚™å‚³é€...", lat, lng);
            
        }).catch(err => {
            if (err.code === "USER_CANCELLED") {
                alert("æ‚¨æ‹’çµ•äº†å®šä½æˆæ¬Šï¼Œè«‹æ‰‹å‹•é›»è©±è¯ç¹«ä¸»äººã€‚");
            } else {
                alert("å®šä½éŒ¯èª¤ï¼š" + err.message);
            }
        });
    }

    initLIFF();
</script>

</body>
</html>
