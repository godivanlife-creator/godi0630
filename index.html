<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Godi å®ˆè­·ç³»çµ± - GodiVanLife</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --main-orange: #e67e22; --soft-bg: #fdf6e3; --status-red: #ff4757; }
        body { font-family: sans-serif; background: var(--soft-bg); color: #333; margin: 0; display: flex; justify-content: center; min-height: 100vh; }
        .app-container { width: 100%; max-width: 420px; padding: 25px; text-align: center; }
        .pet-avatar { width: 180px; height: 180px; border-radius: 50%; border: 6px solid #fff; box-shadow: 0 8px 20px rgba(0,0,0,0.1); object-fit: cover; }
        .info-card { background: white; border-radius: 18px; padding: 20px; text-align: left; margin: 20px 0; box-shadow: 0 4px 12px rgba(0,0,0,0.03); }
        .btn-main { background: var(--main-orange); color: white; border: none; padding: 18px; border-radius: 35px; font-size: 19px; font-weight: bold; width: 100%; cursor: pointer; box-shadow: 0 6px 15px rgba(230, 126, 34, 0.3); }
        .btn-call { display: block; margin-top: 15px; color: #2ed573; text-decoration: none; font-weight: bold; padding: 12px; border: 2px solid #2ed573; border-radius: 35px; }
    </style>
</head>
<body>

<div class="app-container">
    <img src="https://instagram.fkhh1-2.fna.fbcdn.net/v/t51.82787-15/514536579_18039636578639256_5405334103636268789_n.jpg?stp=dst-jpg_e35_tt6&_nc_cat=108&ig_cache_key=MzY2Njk4ODk1NDY4NDk1ODA5MA%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=sUEztQTpUQEQ7kNvwGEpDNo&_nc_oc=AdnzsQUGjQQxnPGkFTt2TFklTNqF6KkLpkU9eTm2UUswKDu-JR00PVn1aSqNDmv-06o&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=instagram.fkhh1-2.fna&_nc_gid=kbDuFVQj11d6CLmSffraZw&oh=00_AftwEChGhuaN8AB6erfKMfLSdju8jtCokWMVbN2XoGbLOQ&oe=699CC00B" class="pet-avatar" alt="Godi">
    
    <h1>æˆ‘æ˜¯ Godi</h1>
    <div class="info-card">
        <p>ğŸ¾ <strong>ç‰¹è‰²ï¼š</strong>æ´»åŠ›åè¶³ï¼Œå–œæ­¡å•¾å•¾è²</p>
        <p>âš ï¸ <strong>æ³¨æ„ï¼š</strong>è¨å­å°å­©ï¼Œè«‹å°å¿ƒé è¿‘</p>
    </div>

    <button class="btn-main" onclick="startGoogleLocation()">ğŸ“ é€é Google å®šä½ä¸¦é€šå ±</button>
    <a href="tel:0932865917" class="btn-call">ğŸ“ ç›´æ¥é›»è©±è¯ç¹«ä¸»äºº</a>
</div>

<script>
    async function initLIFF() {
        await liff.init({ liffId: "2009176986-3VxkPQWI" });
    }

    function startGoogleLocation() {
        if (!liff.isLoggedIn()) {
            liff.login();
            return;
        }

        // ä½¿ç”¨ Google ç€è¦½å™¨åŸç”Ÿå®šä½æ–¹æ³•
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(successCallback, errorCallback, {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 0
            });
        } else {
            alert("æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´ Google å®šä½åŠŸèƒ½ã€‚");
        }
    }

    function successCallback(position) {
        const lat = position.coords.latitude;
        const lng = position.coords.longitude;
        const mapUrl = `https://www.google.com/maps?q=${lat},${lng}`;

        // å‚³é€è¨Šæ¯çµ¦ä¸»äºº (å®˜æ–¹å¸³è™Ÿ)
        liff.sendMessages([
            {
                type: 'text',
                text: `ã€Godi å°‹å¯µé€šå ±ã€‘\nå·²é€é Google å®šä½ç™¼ç¾ Godiï¼\nåœ°åœ–é€£çµï¼š${mapUrl}`
            }
        ]).then(() => {
            alert("é€šå ±æˆåŠŸï¼è¬è¬æ‚¨çš„å¹«åŠ©ã€‚");
            liff.closeWindow();
        }).catch(err => {
            alert("å‚³é€å¤±æ•—ï¼Œè«‹ç¢ºèªæ˜¯å¦å·²åŠ å…¥å¥½å‹ã€‚");
        });
    }

    function errorCallback(error) {
        let msg = "";
        switch(error.code) {
            case error.PERMISSION_DENIED: msg = "è«‹å…è¨±ç€è¦½å™¨å­˜å–ä½ç½®ã€‚"; break;
            case error.POSITION_UNAVAILABLE: msg = "ç„¡æ³•å–å¾—ä½ç½®è³‡è¨Šã€‚"; break;
            case error.TIMEOUT: msg = "å®šä½é€¾æ™‚ã€‚"; break;
        }
        alert(msg);
    }

    initLIFF();
</script>

</body>
</html>
